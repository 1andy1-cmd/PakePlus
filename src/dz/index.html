<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>星空打字 - 提升你的打字速度</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            
            /* 星星效果 */
            .star {
                position: absolute;
                background-color: white;
                border-radius: 50%;
                animation: twinkle 2s infinite ease-in-out;
            }
            @keyframes twinkle {
                0%, 100% { opacity: 0.5; }
                50% { opacity: 1; }
            }
            
            /* 极光效果 */
            .aurora-band {
                position: absolute;
                height: 100%;
                width: 100%;
                background: linear-gradient(transparent, rgba(79, 70, 229, 0.1), transparent);
                animation: aurora-flow 15s infinite linear;
            }
            @keyframes aurora-flow {
                0% { transform: translateY(-100%); }
                100% { transform: translateY(100%); }
            }
            
            /* 流星效果 */
            .shooting-star {
                position: absolute;
                background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);
                width: 100px;
                height: 2px;
                transform-origin: 0 50%;
                animation: shooting 3s linear forwards;
                z-index: 1;
            }
            @keyframes shooting {
                0% {
                    transform: rotate(45deg) translateX(0) scale(1);
                    opacity: 1;
                }
                70% {
                    opacity: 1;
                }
                100% {
                    transform: rotate(45deg) translateX(calc(100vh + 100px)) scale(0.5);
                    opacity: 0;
                }
            }
        }
    </style>
</head>
<body class="font-inter bg-gray-900 text-white min-h-screen flex flex-col">
    <!-- 星空极光背景 -->
    <div id="stars" class="fixed inset-0 z-0"></div>
    <div id="aurora" class="fixed inset-0 z-0 opacity-30"></div>
    
    <!-- 导航栏 -->
    <nav class="relative z-10 bg-gray-900/80 backdrop-blur-md border-b border-white/10 py-4 px-6 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <i class="fa fa-keyboard-o text-2xl text-indigo-400"></i>
            <h1 class="text-2xl font-bold bg-gradient-to-r from-indigo-600 to-pink-500 bg-clip-text text-transparent">星空打字</h1>
        </div>
        <div id="motivation" class="text-sm text-gray-300 italic hidden md:block">
            <!-- 名言将在这里动态显示 -->
        </div>
        <div class="flex items-center space-x-4">
            <button id="settingsBtn" class="flex items-center space-x-1 hover:text-indigo-400 transition-colors">
                <i class="fa fa-cog"></i>
                <span class="hidden md:inline">设置</span>
            </button>
            <button id="statsBtn" class="flex items-center space-x-1 hover:text-pink-400 transition-colors">
                <i class="fa fa-bar-chart"></i>
                <span class="hidden md:inline">统计</span>
            </button>
        </div>
    </nav>

    <!-- 主内容区 -->
    <main class="relative z-10 flex-grow flex flex-col items-center justify-center">
        <div class="text-center mb-12">
            <div class="flex items-center justify-center space-x-2 mb-6">
                <i class="fa fa-keyboard-o text-4xl text-indigo-600"></i>
                <h1 class="text-5xl font-bold bg-gradient-to-r from-indigo-600 to-pink-500 bg-clip-text text-transparent">星空打字</h1>
            </div>
            <p class="text-xl text-gray-300 mb-8">提升你的中英文打字速度与准确率</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-2xl px-4">
            <a href="chinese.html" class="bg-gray-800/60 backdrop-blur-md border border-white/10 rounded-xl p-8 text-center hover:bg-indigo-600/20 transition-all transform hover:scale-105">
                <i class="fa fa-language text-5xl mb-4 text-indigo-400"></i>
                <h2 class="text-2xl font-bold mb-2">中文打字</h2>
                <p class="text-gray-400">练习中文打字，提升输入效率</p>
            </a>
            
            <a href="english.html" class="bg-gray-800/60 backdrop-blur-md border border-white/10 rounded-xl p-8 text-center hover:bg-pink-500/20 transition-all transform hover:scale-105">
                <i class="fa fa-globe text-5xl mb-4 text-pink-400"></i>
                <h2 class="text-2xl font-bold mb-2">英文打字</h2>
                <p class="text-gray-400">练习英文打字，提高输入速度</p>
            </a>
        </div>
        
        <div class="mt-12 text-center max-w-2xl px-4">
            <h3 class="text-xl font-semibold mb-4">系统特点</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-gray-800/30 p-4 rounded-lg">
                    <i class="fa fa-star text-yellow-400 text-2xl mb-2"></i>
                    <p>动态星空背景</p>
                </div>
                <div class="bg-gray-800/30 p-4 rounded-lg">
                    <i class="fa fa-tachometer text-green-400 text-2xl mb-2"></i>
                    <p>实时速度统计</p>
                </div>
                <div class="bg-gray-800/30 p-4 rounded-lg">
                    <i class="fa fa-book text-blue-400 text-2xl mb-2"></i>
                    <p>自定义文章库</p>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="relative z-10 bg-gray-900/80 backdrop-blur-md border-t border-white/10 py-4 px-6 text-center text-gray-400 text-sm">
        <p>© 2025 星空打字 - 提升你的打字技能</p>
        <div class="flex justify-center space-x-4 mt-2">
            <a href="https://docs.qq.com/doc/DVGdTbVNOWHdzR1Zy" class="hover:text-indigo-400 transition-colors">关于我们</a>
            <a href="https://docs.qq.com/doc/DVExIUWpoQm5OTEFt" class="hover:text-indigo-400 transition-colors">使用帮助</a>
            <a href="https://docs.qq.com/doc/DVGpzQ25iSWZCaURs" class="hover:text-indigo-400 transition-colors">更新界面</a>
        </div>
    </footer>

    <!-- 设置模态框 -->
    <div id="settingsModal" class="modal fixed inset-0 z-50 flex items-center justify-center hidden">
        <div class="bg-gray-800 border border-white/10 rounded-xl p-8 w-full max-w-md shadow-2xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">设置</h3>
                <button id="closeSettings" class="text-gray-400 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-2">名言库</label>
                    <textarea id="motivationsInput" rows="4" class="w-full px-4 py-2 bg-gray-700/60 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/50" placeholder="每行输入一条名言"></textarea>
                    <p class="text-xs text-gray-500 mt-1">每条名言单独一行</p>
                </div>
                <div class="pt-4">
                    <button id="saveSettings" class="w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-all transform hover:scale-105">
                        保存设置
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 统计模态框 -->
    <div id="statsModal" class="modal fixed inset-0 z-50 flex items-center justify-center hidden">
        <div class="bg-gray-800 border border-white/10 rounded-xl p-8 w-full max-w-md shadow-2xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">打字统计</h3>
                <button id="closeStats" class="text-gray-400 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-gray-700/60 p-4 rounded-lg border border-white/10">
                        <p class="text-sm text-gray-400">总练习次数</p>
                        <p id="totalSessions" class="text-3xl font-bold">0</p>
                    </div>
                    <div class="bg-gray-700/60 p-4 rounded-lg border border-white/10">
                        <p class="text-sm text-gray-400">总练习时间</p>
                        <p id="totalPracticeTime" class="text-3xl font-bold">0分钟</p>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-2">最近练习</h4>
                    <div id="recentSessions" class="space-y-2 max-h-60 overflow-y-auto">
                        <p class="text-gray-400 italic">暂无记录</p>
                    </div>
                </div>
                <div class="pt-4">
                    <button id="clearStats" class="w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all transform hover:scale-105">
                        清空统计
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 默认名言库
        const defaultMotivations = [
            "每天进步一点点",
            "坚持就是胜利",
            "熟能生巧",
            "不积跬步，无以至千里",
            "打字如飞，思维如电",
            "练习是进步的阶梯",
            "耐心是成功的关键",
            "键盘上的舞者",
            "指尖上的艺术",
            "速度源于专注"
        ];

        // 应用状态
        const state = {
            motivations: [...defaultMotivations],
            stats: {
                totalSessions: 0,
                totalTime: 0,
                sessions: []
            }
        };

        // DOM元素
        const elements = {
            motivation: document.getElementById('motivation'),
            settingsBtn: document.getElementById('settingsBtn'),
            statsBtn: document.getElementById('statsBtn'),
            settingsModal: document.getElementById('settingsModal'),
            closeSettings: document.getElementById('closeSettings'),
            motivationsInput: document.getElementById('motivationsInput'),
            saveSettings: document.getElementById('saveSettings'),
            statsModal: document.getElementById('statsModal'),
            closeStats: document.getElementById('closeStats'),
            totalSessions: document.getElementById('totalSessions'),
            totalPracticeTime: document.getElementById('totalPracticeTime'),
            recentSessions: document.getElementById('recentSessions'),
            clearStats: document.getElementById('clearStats')
        };

        // 生成星空背景
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const count = Math.floor(window.innerWidth * 0.3);
            
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // 随机位置
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // 随机大小
                const size = Math.random() * 2 + 1;
                
                // 随机动画延迟
                const delay = Math.random() * 3;
                
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDelay = `${delay}s`;
                
                starsContainer.appendChild(star);
            }
            
            // 生成流星
            setInterval(createShootingStar, 5000);
        }
        
        // 极光背景
        function createAurora() {
            const auroraContainer = document.getElementById('aurora');
            const colors = [
                'rgba(79, 70, 229, 0.2)',  // indigo
                'rgba(192, 132, 252, 0.2)', // purple
                'rgba(16, 185, 129, 0.2)', // green
                'rgba(99, 102, 241, 0.2)'  // indigo
            ];
            
            for (let i = 0; i < 4; i++) {
                const band = document.createElement('div');
                band.className = 'aurora-band';
                band.style.background = `linear-gradient(transparent, ${colors[i]}, transparent)`;
                band.style.animationDelay = `${i * 3}s`;
                auroraContainer.appendChild(band);
            }
        }
        
        // 流星效果
        function createShootingStar() {
            const starsContainer = document.getElementById('stars');
            const shootingStar = document.createElement('div');
            shootingStar.className = 'shooting-star';
            
            // 随机位置和角度
            const startX = Math.random() * 100;
            const startY = Math.random() * 30 + 10; // 限制在屏幕上半部分
            const angle = 45 + Math.random() * 30; // 角度在45-75度之间
            
            shootingStar.style.left = `${startX}%`;
            shootingStar.style.top = `${startY}%`;
            shootingStar.style.transform = `rotate(${angle}deg)`;
            
            starsContainer.appendChild(shootingStar);
            
            // 流星动画结束后移除
            setTimeout(() => {
                shootingStar.remove();
            }, 3000);
        }

        // 显示随机名言
        function showRandomMotivation() {
            if (state.motivations.length === 0) return;
            
            const randomIndex = Math.floor(Math.random() * state.motivations.length);
            elements.motivation.textContent = state.motivations[randomIndex];
            
            // 每10秒更换一次名言
            setTimeout(showRandomMotivation, 10000);
        }

        // 加载设置
        function loadSettings() {
            const savedMotivations = localStorage.getItem('typingMotivations');
            if (savedMotivations) {
                state.motivations = JSON.parse(savedMotivations);
            }
            
            const savedStats = localStorage.getItem('typingStats');
            if (savedStats) {
                state.stats = JSON.parse(savedStats);
            }
            
            // 更新UI
            elements.motivationsInput.value = state.motivations.join('\n');
            updateStatsDisplay();
        }

        // 保存设置
        function saveSettings() {
            const motivationsText = elements.motivationsInput.value.trim();
            state.motivations = motivationsText.split('\n').filter(m => m.trim() !== '');
            
            if (state.motivations.length === 0) {
                state.motivations = [...defaultMotivations];
                elements.motivationsInput.value = state.motivations.join('\n');
            }
            
            localStorage.setItem('typingMotivations', JSON.stringify(state.motivations));
            elements.settingsModal.classList.add('hidden');
            showRandomMotivation();
        }

        // 更新统计显示
        function updateStatsDisplay() {
            elements.totalSessions.textContent = state.stats.totalSessions;
            elements.totalPracticeTime.textContent = `${state.stats.totalTime}分钟`;
            
            if (state.stats.sessions.length === 0) {
                elements.recentSessions.innerHTML = '<p class="text-gray-400 italic">暂无记录</p>';
            } else {
                elements.recentSessions.innerHTML = '';
                state.stats.sessions.slice(0, 5).forEach(session => {
                    const sessionEl = document.createElement('div');
                    sessionEl.className = 'bg-gray-700/60 p-3 rounded-lg border border-white/10';
                    sessionEl.innerHTML = `
                        <p class="text-sm">${new Date(session.date).toLocaleString()}</p>
                        <p class="text-lg font-semibold">${session.wpm} WPM - ${session.accuracy}%</p>
                        <p class="text-xs text-gray-400">${session.time}分钟 · ${session.errors}错误</p>
                    `;
                    elements.recentSessions.appendChild(sessionEl);
                });
            }
        }

        // 清空统计
        function clearStats() {
            if (confirm('确定要清空所有统计数据吗？此操作不可撤销！')) {
                state.stats = {
                    totalSessions: 0,
                    totalTime: 0,
                    sessions: []
                };
                localStorage.setItem('typingStats', JSON.stringify(state.stats));
                updateStatsDisplay();
            }
        }

        // 设置事件监听器
        function setupEventListeners() {
            // 设置按钮
            elements.settingsBtn.addEventListener('click', () => {
                elements.settingsModal.classList.remove('hidden');
            });
            
            // 关闭设置
            elements.closeSettings.addEventListener('click', () => {
                elements.settingsModal.classList.add('hidden');
            });
            
            // 保存设置
            elements.saveSettings.addEventListener('click', () => {
                saveSettings();
            });
            
            // 统计按钮
            elements.statsBtn.addEventListener('click', () => {
                elements.statsModal.classList.remove('hidden');
            });
            
            // 关闭统计
            elements.closeStats.addEventListener('click', () => {
                elements.statsModal.classList.add('hidden');
            });
            
            // 清空统计
            elements.clearStats.addEventListener('click', () => {
                clearStats();
            });
        }

        // 初始化应用
        function init() {
            createStars();
            createAurora();
            loadSettings();
            setupEventListeners();
            showRandomMotivation();
        }

        // 初始化应用
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>